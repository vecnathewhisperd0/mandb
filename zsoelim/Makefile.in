# zsoelim Makefile for the man package.
#
# Copyright (C) 1994, 1995 Graeme Wilford.
#
# This file is part of man-db.
#
# man-db is free software; you can redistribute it and/or modify it
# under the terms of the GNU General Public License as published by
# the Free Software Foundation; either version 2 of the License, or
# (at your option) any later version.
#
# man-db is distributed in the hope that it will be useful, but
# WITHOUT ANY WARRANTY; without even the implied warranty of
# MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
# GNU General Public License for more details.
#
# You should have received a copy of the GNU General Public License
# along with man-db; if not, write to the Free Software Foundation,
# Inc., 59 Temple Place, Suite 330, Boston, MA  02111-1307  USA
#
# Sat Oct 29 13:09:31 GMT 1994  Wilf. (G.Wilford@ee.surrey.ac.uk) 

srcdir = @srcdir@
VPATH = @srcdir@
top_srcdir = @top_srcdir@
INSTALL = @INSTALL@

include ../include/Defines

.PHONY:	$(DEFAULT_TARGETS)

MANCPPFLAGS := -I../include -I$(top_srcdir) -I-
override LDLIBS = -lc @LEXLIB@

# You may need to modify these options if you have lex instead of flex
# and you want to play with zsoelim.l
LFLAGS = -8 -B -Cfe

all: zsoelim

zsoelim: ../lib/libman.a

../lib/libman.a:
	$(MAKE) -C ../lib

# The standard targets
install: all
	$(MKINSTALLDIRS) $(DESTDIR)$(bindir)
	$(INSTALL_PROGRAM) zsoelim $(DESTDIR)$(bindir)/$(zsoelim)

uninstall:
	rm -f $(DESTDIR)$(bindir)/$(zsoelim)
	
clean:
	rm -f zsoelim *.o core *~

distclean: zsoelim.c clean
	rm -f Makefile

realclean: distclean
	rm -f zsoelim.c tags

TAGS:
	$(MKTAGS) $(srcdir)/*.[lc]
